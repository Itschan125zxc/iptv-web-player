<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BURNEK UNLI CABLE</title>
    <link rel="stylesheet" href="controls.css">
    <link rel="stylesheet" href="style.css">

    <!-- Add Shaka Player Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.5.0/shaka-player.compiled.js"></script>
</head>
<body>

    <h1><i>BURNEK UNLI CABLE</i></h1>

    <div id="video-container" class="shaka-video-container" style="cursor: none;">
        <video id="video-player" autoplay class="shaka-video"></video>
        <div class="shaka-controls-container" shown="true">
            <div class="shaka-scrim-container"></div>
            <div class="shaka-bottom-controls">
                <!-- Controls code (same as original) -->
                <button type="button" class="shaka-small-play-button">play_arrow</button>
                <button type="button" class="shaka-current-time" disabled="">0:00</button>
                <button type="button" class="shaka-mute-button">volume_up</button>
                <button type="button" class="shaka-fullscreen-button">fullscreen</button>
            </div>
            <div class="shaka-range-container shaka-seek-bar-container">
                <input class="shaka-seek-bar" type="range" step="any" min="0" max="0">
            </div>
        </div>
    </div>

    <div id="channel-selector">
        <!-- Channel list (same as original) -->
        <div class="tile" data-source="https://qp-pldt-live-grp-02-prod.akamaized.net/out/u/tv5_hd.mpd">
            <img src="./EntropyTV._files/jsCBRq0.png" alt="Channel 1">
            <span>Channel 1</span>
        </div>
        <!-- Add more channel tiles as needed -->
    </div>

    <script>
        // Initialize Shaka Player
        function initPlayer() {
            const video = document.getElementById('video-player');
            const player = new shaka.Player(video);

            // Attach the player to the video element
            video.addEventListener('loadeddata', function () {
                console.log("Video is ready.");
            });

            // Handle errors
            player.addEventListener('error', function (event) {
                console.error('Error code', event.detail.code, 'object', event.detail);
            });

            // Channel selection functionality
            document.querySelectorAll('.tile').forEach(function (tile) {
                tile.addEventListener('click', function () {
                    const source = tile.getAttribute('data-source');
                    loadVideoSource(player, source);
                });
            });

            // Load the video source
            function loadVideoSource(player, source) {
                player.load(source).then(function () {
                    console.log('Video loaded successfully.');
                }).catch(function (error) {
                    console.error('Error loading video: ', error);
                });
            }
        }

        // Initialize the player on page load
        window.addEventListener('load', initPlayer);
    </script>

</body>
</html>
